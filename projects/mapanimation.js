mapboxgl.accessToken = 'pk.eyJ1IjoiZG9icmFuc2t5YiIsImEiOiJjbGhqZnZ1d3UwaGdrM2Rxdm85czhiZ3ZjIn0.YlYtXBX7t5IlteoSeOg5AQ'

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11',
    center: [-73.9619551128552, 40.77915428170391],
    zoom: 11.5
})

var marker = new mapboxgl.Marker()
    .setLngLat([-73.93726099919827, 40.81880720990791])
    .addTo(map);


    const Stops = [
        [-73.93726099919827, 40.81880720990791],
        [-73.93862166888347,40.81694195104114],
        [-73.93863894546094, 40.81644133729778],
        [-73.93598624715005, 40.81520553727075],
        [-73.93701925449894, 40.813789951053025],
        [-73.93803392450027 ,40.812369708371826],
        [-73.93928439562116, 40.8106192602558],
        [-73.94020067116674, 40.809344242168635],
        [-73.9411432592384, 40.80806617619601],
        [-73.9425839285787, 40.80614458628132],
        [-73.94460406156686, 40.80619356843142],
        [-73.94567191434382, 40.80458399498835],
        [-73.94468328780381, 40.80322354738011],
        [-73.94583192952032, 40.80170110483904],
        [-73.94681073314469, 40.80035455989832],
        [-73.94860097127918, 40.79789479733412],
        [-73.94929820126386, 40.79665644731298],
        [-73.95032799965759, 40.7955191009665],
        [-73.95145539147732, 40.79397003640774],
        [-73.953304291955, 40.791439871462],
        [-73.9561967413724, 40.78750540786773],
        [-73.9630330704037, 40.77787796102132],
        [-73.96709109598228, 40.77225383320007],
        [-73.97031811214397, 40.768149184703304],
        [-73.97286290119538, 40.764527504259185],
        [-73.97513902774647, 40.76148048067269],
        [-73.97749670891147, 40.758093976814955],
        [-73.98092211224824, 40.7532560493656],
        [-73.98503141521745, 40.74769097525754],
        [-73.98958749312808, 40.741406406360205],
        [-73.99383106391925, 40.73559959305194],
        [-73.9940936199258, 40.73151293189243],
        [-73.99248801739758, 40.73085297832454],
        [-73.99288498430273, 40.729885485787634],
        [-73.99469871368595, 40.72765200693589],
        [-73.99506004061318, 40.72761114477934],
        [-73.99616917717641, 40.726287851310886],
        [-73.99718701306654, 40.72512582814753],
        [-73.99807466356967, 40.72406361082845],
        [-73.99913256935929, 40.722850318349586],
        [-73.99740154110025, 40.72077785189326],
    ]

    var counter = 0;
    function run(){
        setTimeout(() =>{
            if (counter >= Stops.length) return;
            marker.setLngLat(Stops[counter]);
            counter++;
            run();
        }, 1500);
    }